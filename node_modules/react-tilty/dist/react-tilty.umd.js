!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e||self).reactTilty=t(e.react)}(this,function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}return function(t){var i=t.style,o=void 0===i?{}:i,u=t.className,a=void 0===u?"":u,c=t.reverse,f=void 0!==c&&c,d=t.max,s=void 0===d?35:d,l=t.perspective,v=void 0===l?1e3:l,p=t.easing,g=void 0===p?"cubic-bezier(.03,.98,.52,.99)":p,m=t.scale,w=void 0===m?1:m,h=t.speed,y=void 0===h?300:h,E=t.axis,M=void 0===E?"":E,b=t.reset,x=void 0===b||b,Y=t.glare,A=void 0!==Y&&Y,X=t.maxGlare,C=void 0===X?1:X,L=t.glareStyle,F=void 0===L?{}:L,R=t.gyroscope,T=void 0===R||R,W=t.gyroscopeMinAngleX,j=void 0===W?-45:W,q=t.gyroscopeMaxAngleX,N=void 0===q?45:q,O=t.gyroscopeMinAngleY,k=void 0===O?-45:O,z=t.gyroscopeMaxAngleY,S=void 0===z?45:z,I=t.onMouseEnter,P=void 0===I?function(){}:I,B=t.onMouseMove,G=void 0===B?function(){}:B,H=t.onMouseLeave,D=void 0===H?function(){}:H,J=t.onTiltChange,K=void 0===J?function(){}:J,Q=t.children,U=e.useState({position:"relative",willChange:"transform"}),V=U[0],Z=U[1],$=e.useState({position:"absolute",top:"50%",left:"50%",pointerEvents:"none",backgroundImage:"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)",transformOrigin:"0% 0%",opacity:"0"}),_=$[0],ee=$[1],te=e.useRef(0),ne=e.useRef(0),re=e.useRef(0),ie=e.useRef(0),oe=e.useRef(null),ue=e.useRef(null),ae=f?1:-1,ce=e.useRef(null);e.useEffect(function(){return function(){clearTimeout(oe.current),"undefined"!=typeof window&&window.cancelAnimationFrame(ue.current)}},[]),e.useEffect(function(){if(!A||"undefined"==typeof window)return function(){};var e=function(){ee(function(e){return r({},e,{width:2*ce.current.offsetWidth,height:2*ce.current.offsetWidth})})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[A]),e.useLayoutEffect(function(){ee(function(e){return r({},e,{width:2*ce.current.offsetWidth,height:2*ce.current.offsetWidth})})},[]);var fe=function(){var e=ce.current.getBoundingClientRect();te.current=ce.current.offsetWidth,ne.current=ce.current.offsetHeight,re.current=e.left,ie.current=e.top},de=e.useCallback(function(e){var t=(e.nativeEvent.clientX-re.current)/te.current,n=(e.nativeEvent.clientY-ie.current)/ne.current;return t=Math.min(Math.max(t,0),1),n=Math.min(Math.max(n,0),1),{tiltX:(ae*(s/2-t*s)).toFixed(2),tiltY:(ae*(n*s-s/2)).toFixed(2),percentageX:100*t,percentageY:100*n,angle:Math.atan2(e.nativeEvent.clientX-(re.current+te.current/2),-(e.nativeEvent.clientY-(ie.current+ne.current/2)))*(180/Math.PI)}},[s,ae]),se=e.useCallback(function(e){var t=de(e);Z(function(e){return r({},e,{transform:"perspective("+v+"px) rotateX("+("x"===M.toLowerCase()?0:t.tiltY)+"deg) rotateY("+("y"===M.toLowerCase()?0:t.tiltX)+"deg) scale3d("+w+", "+w+", "+w+")"})}),A&&ee(function(e){return r({},e,{transform:"rotate("+t.angle+"deg) translate(-50%, -50%)",opacity:t.percentageY*C/100})}),ce.current.dispatchEvent(new CustomEvent("tiltChange",{detail:t})),K({detail:t}),ue.current=null},[M,de,A,C,v,w,K]),le=function(){clearTimeout(oe.current),Z(function(e){return r({},e,{transition:y+"ms "+g})}),oe.current=setTimeout(function(){Z(function(e){return r({},e,{transition:""})})},y)};return e.useEffect(function(){if(!T)return function(){};var e=function(e){if(null!==e.gamma&&null!==e.beta&&"undefined"!=typeof window){fe();var t=(e.gamma-j)/((N-j)/te.current),n=(e.beta-k)/((S-k)/ne.current);null!==ue.current&&"undefined"!=typeof window&&window.cancelAnimationFrame(ue.current),e.nativeEvent={clientX:t+re.current,clientY:n+ie.current},ue.current=requestAnimationFrame(function(){return se(e)})}};return window.addEventListener("deviceorientation",e),function(){window.removeEventListener("deviceorientation",e)}},[T,N,S,j,k,se]),n.default.createElement("div",{ref:ce,style:r({},o,V),className:a,onMouseEnter:function(e){return fe(),le(),P(e)},onMouseMove:function(e){return e.persist(),null!==ue.current&&"undefined"!=typeof window&&window.cancelAnimationFrame(ue.current),ue.current=requestAnimationFrame(function(){return se(e)}),G(e)},onMouseLeave:function(e){return le(),x&&"undefined"!=typeof window&&window.requestAnimationFrame(function(){Z(function(e){return r({},e,{transform:"perspective("+v+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}),A&&ee(function(e){return r({},e,{transform:"rotate(180deg) translate(-50%, -50%)",opacity:0})})}),D(e)}},A&&n.default.createElement("div",{className:"tilty-glare-wrapper",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}},n.default.createElement("div",{className:"tilty-glare",style:r({},F,_)})),Q)}});
//# sourceMappingURL=react-tilty.umd.js.map
