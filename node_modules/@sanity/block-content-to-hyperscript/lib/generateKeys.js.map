{"version":3,"sources":["../src/generateKeys.js"],"names":["objectAssign","require","module","exports","blocks","map","block","_key","getStaticKey","item","checksum","JSON","stringify","toString","replace","str","hash","strlen","length","i","charCodeAt"],"mappings":";;AAAA,IAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAAC,MAAM,EAAI;AACzB,SAAOA,MAAM,CAACC,GAAP,CAAW,UAAAC,KAAK,EAAI;AACzB,QAAIA,KAAK,CAACC,IAAV,EAAgB;AACd,aAAOD,KAAP;AACD;;AAED,WAAON,YAAY,CAAC;AAACO,MAAAA,IAAI,EAAEC,YAAY,CAACF,KAAD;AAAnB,KAAD,EAA8BA,KAA9B,CAAnB;AACD,GANM,CAAP;AAOD,CARD;;AAUA,SAASE,YAAT,CAAsBC,IAAtB,EAA4B;AAC1B,SAAOC,QAAQ,CAACC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAD,CAAR,CACJI,QADI,CACK,EADL,EAEJC,OAFI,CAEI,eAFJ,EAEqB,EAFrB,CAAP;AAGD;AAED;;;AACA,SAASJ,QAAT,CAAkBK,GAAlB,EAAuB;AACrB,MAAIC,IAAI,GAAG,CAAX;AACA,MAAMC,MAAM,GAAGF,GAAG,CAACG,MAAnB;;AACA,MAAID,MAAM,KAAK,CAAf,EAAkB;AAChB,WAAOD,IAAP;AACD;;AAED,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAApB,EAA4BE,CAAC,EAA7B,EAAiC;AAC/BH,IAAAA,IAAI,GAAG,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAd,GAAqBD,GAAG,CAACK,UAAJ,CAAeD,CAAf,CAA5B;AACAH,IAAAA,IAAI,IAAIA,IAAR,CAF+B,CAElB;AACd;;AAED,SAAOA,IAAP;AACD;AACD","sourcesContent":["const objectAssign = require('object-assign')\n\nmodule.exports = blocks => {\n  return blocks.map(block => {\n    if (block._key) {\n      return block\n    }\n\n    return objectAssign({_key: getStaticKey(block)}, block)\n  })\n}\n\nfunction getStaticKey(item) {\n  return checksum(JSON.stringify(item))\n    .toString(36)\n    .replace(/[^A-Za-z0-9]/g, '')\n}\n\n/* eslint-disable no-bitwise */\nfunction checksum(str) {\n  let hash = 0\n  const strlen = str.length\n  if (strlen === 0) {\n    return hash\n  }\n\n  for (let i = 0; i < strlen; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i)\n    hash &= hash // Convert to 32bit integer\n  }\n\n  return hash\n}\n/* eslint-enable no-bitwise */\n"],"file":"generateKeys.js"}