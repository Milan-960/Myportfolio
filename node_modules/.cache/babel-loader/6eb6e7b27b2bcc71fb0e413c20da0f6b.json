{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport json2mq from 'json2mq';\n\nvar MediaQueryListener = /*#__PURE__*/function () {\n  function MediaQueryListener(targetWindow, query, listener) {\n    var _this = this;\n\n    this.nativeMediaQueryList = targetWindow.matchMedia(query);\n    this.active = true; // Safari doesn't clear up listener with removeListener\n    // when the listener is already waiting in the event queue.\n    // Having an active flag to make sure the listener is not called\n    // after we removeListener.\n\n    this.cancellableListener = function () {\n      _this.matches = _this.nativeMediaQueryList.matches;\n\n      if (_this.active) {\n        listener.apply(void 0, arguments);\n      }\n    };\n\n    this.nativeMediaQueryList.addListener(this.cancellableListener);\n    this.matches = this.nativeMediaQueryList.matches;\n  }\n\n  var _proto = MediaQueryListener.prototype;\n\n  _proto.cancel = function cancel() {\n    this.active = false;\n    this.nativeMediaQueryList.removeListener(this.cancellableListener);\n  };\n\n  return MediaQueryListener;\n}();\n\nvar queryType = PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.arrayOf(PropTypes.object.isRequired)]);\n/**\n * Conditionally renders based on whether or not a media query matches.\n */\n\nvar Media = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Media, _React$Component);\n\n  function Media(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"queries\", []);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getMatches\", function () {\n      var result = _this.queries.reduce(function (acc, _ref) {\n        var _extends2;\n\n        var name = _ref.name,\n            mqListener = _ref.mqListener;\n        return _extends({}, acc, (_extends2 = {}, _extends2[name] = mqListener.matches, _extends2));\n      }, {}); // return result;\n\n\n      return unwrapSingleQuery(result);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"updateMatches\", function () {\n      var newMatches = _this.getMatches();\n\n      _this.setState(function () {\n        return {\n          matches: newMatches\n        };\n      }, _this.onChange);\n    });\n\n    !(!(!props.query && !props.queries) || props.query && props.queries) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '<Media> must be supplied with either \"query\" or \"queries\"') : invariant(false) : void 0;\n    !(props.defaultMatches === undefined || !props.query || typeof props.defaultMatches === \"boolean\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Media> when query is set, defaultMatches must be a boolean, received \" + typeof props.defaultMatches) : invariant(false) : void 0;\n    !(props.defaultMatches === undefined || !props.queries || typeof props.defaultMatches === \"object\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Media> when queries is set, defaultMatches must be a object of booleans, received \" + typeof props.defaultMatches) : invariant(false) : void 0;\n\n    if (typeof window !== \"object\") {\n      // In case we're rendering on the server, apply the default matches\n      var matches;\n\n      if (props.defaultMatches !== undefined) {\n        matches = props.defaultMatches;\n      } else if (props.query) {\n        matches = true;\n      }\n      /* if (props.queries) */\n      else {\n          matches = Object.keys(_this.props.queries).reduce(function (acc, key) {\n            var _extends3;\n\n            return _extends({}, acc, (_extends3 = {}, _extends3[key] = true, _extends3));\n          }, {});\n        }\n\n      _this.state = {\n        matches: matches\n      };\n      return _assertThisInitialized(_this);\n    }\n\n    _this.initialize(); // Instead of calling this.updateMatches, we manually set the initial state to prevent\n    // calling setState, which could trigger an unnecessary second render\n\n\n    _this.state = {\n      matches: _this.props.defaultMatches !== undefined ? _this.props.defaultMatches : _this.getMatches()\n    };\n\n    _this.onChange();\n\n    return _this;\n  }\n\n  var _proto = Media.prototype;\n\n  _proto.initialize = function initialize() {\n    var _this2 = this;\n\n    var targetWindow = this.props.targetWindow || window;\n    !(typeof targetWindow.matchMedia === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Media targetWindow> does not support `matchMedia`.\") : invariant(false) : void 0;\n    var queries = this.props.queries || wrapInQueryObject(this.props.query);\n    this.queries = Object.keys(queries).map(function (name) {\n      var query = queries[name];\n      var qs = typeof query !== \"string\" ? json2mq(query) : query;\n      var mqListener = new MediaQueryListener(targetWindow, qs, _this2.updateMatches);\n      return {\n        name: name,\n        mqListener: mqListener\n      };\n    });\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.initialize(); // If props.defaultMatches has been set, ensure we trigger a two-pass render.\n    // This is useful for SSR with mismatching defaultMatches vs actual matches from window.matchMedia\n    // Details: https://github.com/ReactTraining/react-media/issues/81\n\n    if (this.props.defaultMatches !== undefined) {\n      this.updateMatches();\n    }\n  };\n\n  _proto.onChange = function onChange() {\n    var onChange = this.props.onChange;\n\n    if (onChange) {\n      onChange(this.state.matches);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.queries.forEach(function (_ref2) {\n      var mqListener = _ref2.mqListener;\n      return mqListener.cancel();\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        render = _this$props.render;\n    var matches = this.state.matches;\n    var isAnyMatches = typeof matches === \"object\" ? Object.keys(matches).some(function (key) {\n      return matches[key];\n    }) : matches;\n    return render ? isAnyMatches ? render(matches) : null : children ? typeof children === \"function\" ? children(matches) : !Array.isArray(children) || children.length // Preact defaults to empty children array\n    ? isAnyMatches ? // We have to check whether child is a composite component or not to decide should we\n    // provide `matches` as a prop or not\n    React.Children.only(children) && typeof React.Children.only(children).type === \"string\" ? React.Children.only(children) : React.cloneElement(React.Children.only(children), {\n      matches: matches\n    }) : null : null : null;\n  };\n\n  return Media;\n}(React.Component);\n/**\n * Wraps a single query in an object. This is used to provide backward compatibility with\n * the old `query` prop (as opposed to `queries`). If only a single query is passed, the object\n * will be unpacked down the line, but this allows our internals to assume an object of queries\n * at all times.\n */\n\n\n_defineProperty(Media, \"propTypes\", {\n  defaultMatches: PropTypes.oneOfType([PropTypes.bool, PropTypes.objectOf(PropTypes.bool)]),\n  query: queryType,\n  queries: PropTypes.objectOf(queryType),\n  render: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  targetWindow: PropTypes.object,\n  onChange: PropTypes.func\n});\n\nfunction wrapInQueryObject(query) {\n  return {\n    __DEFAULT__: query\n  };\n}\n/**\n * Unwraps an object of queries, if it was originally passed as a single query.\n */\n\n\nfunction unwrapSingleQuery(queryObject) {\n  var queryNames = Object.keys(queryObject);\n\n  if (queryNames.length === 1 && queryNames[0] === \"__DEFAULT__\") {\n    return queryObject.__DEFAULT__;\n  }\n\n  return queryObject;\n}\n\nexport default Media;","map":{"version":3,"sources":["/Users/milansachani/Desktop/Projects/MIlan-Portfolio/Myportfolio/node_modules/react-media/esm/react-media.js"],"names":["_extends","_inheritsLoose","_assertThisInitialized","_defineProperty","React","PropTypes","invariant","json2mq","MediaQueryListener","targetWindow","query","listener","_this","nativeMediaQueryList","matchMedia","active","cancellableListener","matches","apply","arguments","addListener","_proto","prototype","cancel","removeListener","queryType","oneOfType","string","object","arrayOf","isRequired","Media","_React$Component","props","call","result","queries","reduce","acc","_ref","_extends2","name","mqListener","unwrapSingleQuery","newMatches","getMatches","setState","onChange","process","env","NODE_ENV","defaultMatches","undefined","window","Object","keys","key","_extends3","state","initialize","_this2","wrapInQueryObject","map","qs","updateMatches","componentDidMount","componentWillUnmount","forEach","_ref2","render","_this$props","children","isAnyMatches","some","Array","isArray","length","Children","only","type","cloneElement","Component","bool","objectOf","func","node","__DEFAULT__","queryObject","queryNames"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport json2mq from 'json2mq';\n\nvar MediaQueryListener =\n/*#__PURE__*/\nfunction () {\n  function MediaQueryListener(targetWindow, query, listener) {\n    var _this = this;\n\n    this.nativeMediaQueryList = targetWindow.matchMedia(query);\n    this.active = true; // Safari doesn't clear up listener with removeListener\n    // when the listener is already waiting in the event queue.\n    // Having an active flag to make sure the listener is not called\n    // after we removeListener.\n\n    this.cancellableListener = function () {\n      _this.matches = _this.nativeMediaQueryList.matches;\n\n      if (_this.active) {\n        listener.apply(void 0, arguments);\n      }\n    };\n\n    this.nativeMediaQueryList.addListener(this.cancellableListener);\n    this.matches = this.nativeMediaQueryList.matches;\n  }\n\n  var _proto = MediaQueryListener.prototype;\n\n  _proto.cancel = function cancel() {\n    this.active = false;\n    this.nativeMediaQueryList.removeListener(this.cancellableListener);\n  };\n\n  return MediaQueryListener;\n}();\n\nvar queryType = PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.arrayOf(PropTypes.object.isRequired)]);\n/**\n * Conditionally renders based on whether or not a media query matches.\n */\n\nvar Media =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Media, _React$Component);\n\n  function Media(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"queries\", []);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getMatches\", function () {\n      var result = _this.queries.reduce(function (acc, _ref) {\n        var _extends2;\n\n        var name = _ref.name,\n            mqListener = _ref.mqListener;\n        return _extends({}, acc, (_extends2 = {}, _extends2[name] = mqListener.matches, _extends2));\n      }, {}); // return result;\n\n\n      return unwrapSingleQuery(result);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"updateMatches\", function () {\n      var newMatches = _this.getMatches();\n\n      _this.setState(function () {\n        return {\n          matches: newMatches\n        };\n      }, _this.onChange);\n    });\n\n    !(!(!props.query && !props.queries) || props.query && props.queries) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '<Media> must be supplied with either \"query\" or \"queries\"') : invariant(false) : void 0;\n    !(props.defaultMatches === undefined || !props.query || typeof props.defaultMatches === \"boolean\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Media> when query is set, defaultMatches must be a boolean, received \" + typeof props.defaultMatches) : invariant(false) : void 0;\n    !(props.defaultMatches === undefined || !props.queries || typeof props.defaultMatches === \"object\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Media> when queries is set, defaultMatches must be a object of booleans, received \" + typeof props.defaultMatches) : invariant(false) : void 0;\n\n    if (typeof window !== \"object\") {\n      // In case we're rendering on the server, apply the default matches\n      var matches;\n\n      if (props.defaultMatches !== undefined) {\n        matches = props.defaultMatches;\n      } else if (props.query) {\n        matches = true;\n      }\n      /* if (props.queries) */\n      else {\n          matches = Object.keys(_this.props.queries).reduce(function (acc, key) {\n            var _extends3;\n\n            return _extends({}, acc, (_extends3 = {}, _extends3[key] = true, _extends3));\n          }, {});\n        }\n\n      _this.state = {\n        matches: matches\n      };\n      return _assertThisInitialized(_this);\n    }\n\n    _this.initialize(); // Instead of calling this.updateMatches, we manually set the initial state to prevent\n    // calling setState, which could trigger an unnecessary second render\n\n\n    _this.state = {\n      matches: _this.props.defaultMatches !== undefined ? _this.props.defaultMatches : _this.getMatches()\n    };\n\n    _this.onChange();\n\n    return _this;\n  }\n\n  var _proto = Media.prototype;\n\n  _proto.initialize = function initialize() {\n    var _this2 = this;\n\n    var targetWindow = this.props.targetWindow || window;\n    !(typeof targetWindow.matchMedia === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Media targetWindow> does not support `matchMedia`.\") : invariant(false) : void 0;\n    var queries = this.props.queries || wrapInQueryObject(this.props.query);\n    this.queries = Object.keys(queries).map(function (name) {\n      var query = queries[name];\n      var qs = typeof query !== \"string\" ? json2mq(query) : query;\n      var mqListener = new MediaQueryListener(targetWindow, qs, _this2.updateMatches);\n      return {\n        name: name,\n        mqListener: mqListener\n      };\n    });\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.initialize(); // If props.defaultMatches has been set, ensure we trigger a two-pass render.\n    // This is useful for SSR with mismatching defaultMatches vs actual matches from window.matchMedia\n    // Details: https://github.com/ReactTraining/react-media/issues/81\n\n    if (this.props.defaultMatches !== undefined) {\n      this.updateMatches();\n    }\n  };\n\n  _proto.onChange = function onChange() {\n    var onChange = this.props.onChange;\n\n    if (onChange) {\n      onChange(this.state.matches);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.queries.forEach(function (_ref2) {\n      var mqListener = _ref2.mqListener;\n      return mqListener.cancel();\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        render = _this$props.render;\n    var matches = this.state.matches;\n    var isAnyMatches = typeof matches === \"object\" ? Object.keys(matches).some(function (key) {\n      return matches[key];\n    }) : matches;\n    return render ? isAnyMatches ? render(matches) : null : children ? typeof children === \"function\" ? children(matches) : !Array.isArray(children) || children.length // Preact defaults to empty children array\n    ? isAnyMatches ? // We have to check whether child is a composite component or not to decide should we\n    // provide `matches` as a prop or not\n    React.Children.only(children) && typeof React.Children.only(children).type === \"string\" ? React.Children.only(children) : React.cloneElement(React.Children.only(children), {\n      matches: matches\n    }) : null : null : null;\n  };\n\n  return Media;\n}(React.Component);\n/**\n * Wraps a single query in an object. This is used to provide backward compatibility with\n * the old `query` prop (as opposed to `queries`). If only a single query is passed, the object\n * will be unpacked down the line, but this allows our internals to assume an object of queries\n * at all times.\n */\n\n\n_defineProperty(Media, \"propTypes\", {\n  defaultMatches: PropTypes.oneOfType([PropTypes.bool, PropTypes.objectOf(PropTypes.bool)]),\n  query: queryType,\n  queries: PropTypes.objectOf(queryType),\n  render: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  targetWindow: PropTypes.object,\n  onChange: PropTypes.func\n});\n\nfunction wrapInQueryObject(query) {\n  return {\n    __DEFAULT__: query\n  };\n}\n/**\n * Unwraps an object of queries, if it was originally passed as a single query.\n */\n\n\nfunction unwrapSingleQuery(queryObject) {\n  var queryNames = Object.keys(queryObject);\n\n  if (queryNames.length === 1 && queryNames[0] === \"__DEFAULT__\") {\n    return queryObject.__DEFAULT__;\n  }\n\n  return queryObject;\n}\n\nexport default Media;\n"]},"metadata":{},"sourceType":"module"}